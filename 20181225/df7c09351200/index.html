<!DOCTYPE html>
<html  lang="zh-CN" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#fff" id="theme-color">
  <meta name="description" content="冰冻三尺，非一日之寒；为山九仞，岂一日之功；不忘初心，方得始终！">
  <link rel="icon" href="/favicon.png">
  <title>Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库</title>
  
  
  <meta property="og:title" content="Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库">
  
  
  <meta property="og:url" content="https://blog.onestravel.cn/20181225/df7c09351200/index.html">
  
  
  <meta property="og:img" content="/images/20181225/android-kotlin.png">
  
  
  <meta property="og:img" content="冰冻三尺，非一日之寒；为山九仞，岂一日之功；不忘初心，方得始终！">
  
  
  <meta property="og:type" content="article">
  <meta property="og:article:published_time" content="2018-12-25">
  <meta property="og:article:modified_time" content="2022-10-08">
  <meta property="og:article:author" content="一个人的旅行">
  
  
  <meta property="og:article:tag" content="Android">
  
  <meta property="og:article:tag" content="Kotlin">
  
  
  
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
    var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
      }
    };
    setDarkmode();
  </script>
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
  </script>
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
  <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
  <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  <link rel="prefetch" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" as="script">
  
  
  
  <link rel="prefetch" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" as="script">
  
  
  
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">

  
  
<link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">

  
  
  
  
<meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
  <div class="wrapper">
    
    <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
      <img class="navbar-logo-img" src="/favicon.png" alt="logo">
      
      <span class="navbar-logo-dsc">一个人的旅行</span>
    </span>
  </div>
  <div class="navbar-menu">
    
    <a href="/" class="navbar-menu-item">
    
    首页
    
    </a>
    
    <a href="/archives" class="navbar-menu-item">
    
    归档
    
    </a>
    
    <a href="/tags" class="navbar-menu-item">
    
    标签
    
    </a>
    
    <a href="/categories" class="navbar-menu-item">
    
    分类
    
    </a>
    
    <a href="/about" class="navbar-menu-item">
    
    关于
    
    </a>
    
    <a href="/friends" class="navbar-menu-item">
    
    友链
    
    </a>
    
    <a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i></a>
    <a class="navbar-menu-item searchnavbar" id="search"><i class="iconfont icon-search" style="font-size: 1.2rem; font-weight: 400;"></i></a>
  </div>
</nav>
    
    <div id="local-search" style="display: none;">
      <input class="navbar-menu-item" id="search-input" placeholder="请输入搜索内容...">
      <div id="search-content"></div>
    </div>
    
    <div class="section-wrap">
      <div class="container">
        <div class="columns">
          <main class="main-column">
<div class="image-wrapper">
  <img src="/images/20181225/android-kotlin.png" data-src="/images/20181225/android-kotlin.png"
    srcset="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%20300%20300&#39;%3E%3C/svg%3E"
    class="image lozad"
    alt="thumbnail"
  >
</div>

<article class="card card-content">
  <header>
    <h1 class="post-title">
      Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2018-12-25T02:00:00.000Z">
      <i class="iconfont icon-calendar" style="margin-right: 2px;"></i>
      <span>2018-12-25</span>
    </time>
    
    <span class="dot"></span>
    
    <a href="/categories/Kotlin/" class="post-meta-link">Kotlin</a>
    
    
    
    <span class="dot"></span>
    <span>6.5k 字</span>
    
  </div>
  
  <div class="post-meta post-show-meta" style="margin-top: -10px;">
    <div style="display: flex; align-items: center;">
      <i class="iconfont icon-biaoqian" style="margin-right: 2px; font-size: 1.15rem;"></i>
      
      
        <a href="/tags/Android/" class="post-meta-link">Android</a>
      
      
      <span class="dot"></span>
      
        <a href="/tags/Kotlin/" class="post-meta-link">Kotlin</a>
      
    </div>
  </div>
  
  </header>
  <div id="section" class="post-content">
    <h1 id="Kotlin语言基于Mvp-Retrofit-RxJava封装的Android项目的基础依赖库"><a href="#Kotlin语言基于Mvp-Retrofit-RxJava封装的Android项目的基础依赖库" class="headerlink" title="Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库"></a>Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>该Library是基于Kotlin语言封装的一个库，主要是用来创建一个kotlin项目时，作为项目的简单封装，使用该Library作为依赖引入，即可进行项目开发，省去一些前期准备工作。</p>
<p>该Library主要进行了一下封装：</p>
<ol>
<li>采用普通MVC架构的方式，对Activity，Fragment,Adapter和一些工具类的封装以及自定义View的实现；</li>
<li>采用Retrofit+RxJava 对http请求进行相应的封装，可设置公共参数，并对RX生命周期进行处理；</li>
<li>采用MVP架构，对上面封装的Activity，Fragment 进行二次封装；</li>
<li>该项目使用了org.jetbrains.anko ，可实现对布局文件的自动依赖注入，kotlin文件中的View名称就是对应布局文件中View的 id;</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://github.com/onestravel/kotlin-base">项目GitHub地址</a></p>
<h2 id="一、采用普通方式封装的基础文件介绍"><a href="#一、采用普通方式封装的基础文件介绍" class="headerlink" title="一、采用普通方式封装的基础文件介绍"></a>一、采用普通方式封装的基础文件介绍</h2><h3 id="1、BaseActivity"><a href="#1、BaseActivity" class="headerlink" title="1、BaseActivity"></a>1、BaseActivity</h3><p>package:cn.onestravel.library.kotlin.base.activity</p>
<p>所有Activity的基类，定义一些子类必须实现的和可实现的方法：</p>
<pre class=" language-kotlin"><code class="language-kotlin"> <span class="token comment" spellcheck="true">/**
     * 获取布局ID,子类必须实现
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">getLayoutId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int


    <span class="token comment" spellcheck="true">/**
     * 初始化 View 的相关操作，若有需要可在子类实现
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">initView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 初始化 Listener 事件的相关操作，若有需要可在子类实现
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">initListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 初始化 Data 数据的相关操作，若有需要可在子类实现
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 在主线程弹出Toast 提示
     * @param msg 需要弹出的提示信息
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token operator">:</span>String<span class="token punctuation">)</span><span class="token punctuation">{</span>
        runOnUiThread <span class="token punctuation">{</span>
            <span class="token function">toast</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 在主线程弹出Toast 提示
     * @param stringRes 需要弹出的提示信息的string资源ID
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">showToast</span><span class="token punctuation">(</span>stringRes<span class="token operator">:</span>Int<span class="token punctuation">)</span><span class="token punctuation">{</span>
        runOnUiThread <span class="token punctuation">{</span>
            <span class="token function">toast</span><span class="token punctuation">(</span><span class="token function">getString</span><span class="token punctuation">(</span>stringRes<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 跳转到另一个Activity，并且finish 掉当前Activity
     * 需要跳转的Activity必须继承于BaseActivity 或者
     * @param params 可变参数，需要通过intent传递的参数 eg:"key" to "value"
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span><span class="token keyword">reified</span> T<span class="token operator">:</span> BaseActivity<span class="token operator">></span> <span class="token function">startActivityAndFinish</span><span class="token punctuation">(</span>vararg params<span class="token operator">:</span> Pair<span class="token operator">&lt;</span>String<span class="token punctuation">,</span> Any<span class="token operator">?</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        startActivity<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token operator">*</span>params<span class="token punctuation">)</span>
        <span class="token function">finish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span></code></pre>
<h3 id="2、BaseListActivity"><a href="#2、BaseListActivity" class="headerlink" title="2、BaseListActivity"></a>2、BaseListActivity</h3><p>package:cn.onestravel.library.kotlin.base.activity</p>
<p>继承自BaseActivity，实现针对RecyclerView实现列表数据的一些配置，简化实现只有一个列表布局的Activity，并且实现上拉加载，下拉刷新操作。</p>
<p>主要方法如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"> <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">getRecyclerView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>LoadMoreRecyclerView<span class="token punctuation">{</span>
        <span class="token keyword">return</span> mRecyclerView
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 获取recyclerView的布局管理器，子类可重写该方法，来更改布局管理器
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">getLayoutManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span><span class="token function">LayoutManager</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> layoutManager<span class="token operator">:</span> LinearLayoutManager <span class="token operator">=</span> <span class="token function">LinearLayoutManager</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token comment" spellcheck="true">//设置为垂直布局，这也是默认的</span>
        layoutManager<span class="token punctuation">.</span>orientation <span class="token operator">=</span> OrientationHelper<span class="token punctuation">.</span>VERTICAL
        <span class="token keyword">return</span> layoutManager
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置RecyclerView 的Adapter适配器
     * @param adapter 设置的Adapter，必须是BaseRecyclerAdapter的子类
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">setAdapter</span><span class="token punctuation">(</span>adapter<span class="token operator">:</span> BaseRecyclerAdapter<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRecyclerView<span class="token punctuation">.</span>adapter <span class="token operator">=</span> adapter
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置刷新控件的颜色
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">setRefreshColorSchemeColors</span><span class="token punctuation">(</span><span class="token annotation builtin">@ColorInt</span> vararg colors<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRefreshLayout<span class="token punctuation">.</span><span class="token function">setColorSchemeColors</span><span class="token punctuation">(</span><span class="token operator">*</span>colors<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/**
     * 设置刷新控件的颜色
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">setColorSchemeResources</span><span class="token punctuation">(</span><span class="token annotation builtin">@ColorRes</span> vararg colorIds<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRefreshLayout<span class="token punctuation">.</span><span class="token function">setColorSchemeResources</span><span class="token punctuation">(</span><span class="token operator">*</span>colorIds<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置刷新控件是否显示
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">isRefresh</span><span class="token punctuation">(</span>isRefresh<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRefreshLayout<span class="token punctuation">.</span>isRefreshing <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 刷新完成
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">refreshComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRefreshLayout<span class="token punctuation">.</span>isRefreshing <span class="token operator">=</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 刷新数据，子类实现该方法，进行数据请求
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">refreshDatas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 加载更多完成
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">loadMoreComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRecyclerView<span class="token punctuation">.</span><span class="token function">loadMoreComplete</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置是否可以加载更多
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">canLoadMore</span><span class="token punctuation">(</span>canLoadMore<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRecyclerView<span class="token punctuation">.</span>loadMoreEnable <span class="token operator">=</span> canLoadMore
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置是否还有更多的数据
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">fun</span> <span class="token function">hasLoadMore</span><span class="token punctuation">(</span>hasLoadMore<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mRecyclerView<span class="token punctuation">.</span>hasMore <span class="token operator">=</span> hasLoadMore
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 加载新数据，子类实现该方法，进行数据请求
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">loadMoreDatas</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span></code></pre>
<h3 id="3、BaseRecyclerAdapter"><a href="#3、BaseRecyclerAdapter" class="headerlink" title="3、BaseRecyclerAdapter"></a>3、BaseRecyclerAdapter</h3><p>package:cn.onestravel.library.kotlin.base.adapter</p>
<p>针对RecyclerView使用的RecyclerView.Adapter进行封装，实现一些基础的布局（不常变化的）设置的方法，定义一些方法，简化子类的实现，更加有利于缩短开发时间；实现adapter中提示Toast的方法，以及添加、设置数据，或者基础View的设置相关内容的方法；对Item点击和长按的监听事件。</p>
<p>主要方法如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin">
<span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseRecyclerAdapter<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span>Adapter<span class="token operator">&lt;</span>VH<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> View<span class="token punctuation">.</span>OnClickListener<span class="token punctuation">,</span> View<span class="token punctuation">.</span><span class="token function">OnLongClickListener</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> mDatas<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> ArrayList<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">lateinit</span> <span class="token keyword">var</span> context<span class="token operator">:</span> Context
    <span class="token keyword">private</span> <span class="token keyword">var</span> clickListener<span class="token operator">:</span> OnItemClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> longClickListener<span class="token operator">:</span> OnItemLongClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>


    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreateViewHolder</span><span class="token punctuation">(</span>parent<span class="token operator">:</span> ViewGroup<span class="token punctuation">,</span> viewType<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> VH <span class="token punctuation">{</span>
        context <span class="token operator">=</span> parent<span class="token punctuation">.</span>context
        <span class="token keyword">val</span> convertView <span class="token operator">=</span> LayoutInflater<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">inflate</span><span class="token punctuation">(</span><span class="token function">getLayoutId</span><span class="token punctuation">(</span>viewType<span class="token punctuation">)</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
        convertView<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        convertView<span class="token punctuation">.</span><span class="token function">setOnLongClickListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">VH</span><span class="token punctuation">(</span>convertView<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置Item 的点击事件
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setOnItemClick</span><span class="token punctuation">(</span>listener<span class="token operator">:</span> OnItemClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        clickListener <span class="token operator">=</span> listener
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置Item 的点击事件
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setOnItemClick</span><span class="token punctuation">(</span>onClick<span class="token operator">:</span> <span class="token punctuation">(</span>view<span class="token operator">:</span>View<span class="token punctuation">,</span>position<span class="token operator">:</span>Int<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token operator">:</span>T<span class="token punctuation">)</span> <span class="token operator">-></span> Unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        clickListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span>  OnItemClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span>view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">onClick</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span>position<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置Item 的长按事件
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setOnItemLongClick</span><span class="token punctuation">(</span>listener<span class="token operator">:</span>OnItemLongClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        longClickListener <span class="token operator">=</span> listener
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置Item 的长按事件
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setOnItemLongClick</span><span class="token punctuation">(</span>onLongClick<span class="token operator">:</span> <span class="token punctuation">(</span>view<span class="token operator">:</span>View<span class="token punctuation">,</span>position<span class="token operator">:</span>Int<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token operator">:</span>T<span class="token punctuation">)</span> <span class="token operator">-></span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        longClickListener <span class="token operator">=</span> <span class="token keyword">object</span> <span class="token operator">:</span> OnItemLongClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
            <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onItemLongClick</span><span class="token punctuation">(</span>view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span>Boolean <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token function">onLongClick</span><span class="token punctuation">(</span>view<span class="token punctuation">,</span>position<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onClick</span><span class="token punctuation">(</span>p0<span class="token operator">:</span> View<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> position<span class="token operator">:</span>Int <span class="token operator">=</span> p0<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>itemViewPosition<span class="token punctuation">)</span> <span class="token keyword">as</span> Int
        <span class="token keyword">val</span> <span class="token keyword">data</span><span class="token operator">:</span>T <span class="token operator">=</span> mDatas<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        clickListener<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">onItemClick</span><span class="token punctuation">(</span>p0<span class="token punctuation">,</span>position<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onLongClick</span><span class="token punctuation">(</span>p0<span class="token operator">:</span> View<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
        <span class="token keyword">val</span> position<span class="token operator">:</span>Int <span class="token operator">=</span> p0<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getTag</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>itemViewPosition<span class="token punctuation">)</span> <span class="token keyword">as</span> Int
        <span class="token keyword">val</span> <span class="token keyword">data</span><span class="token operator">:</span>T <span class="token operator">=</span> mDatas<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        <span class="token keyword">return</span> longClickListener<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">onItemLongClick</span><span class="token punctuation">(</span>p0<span class="token punctuation">,</span>position<span class="token punctuation">,</span><span class="token keyword">data</span><span class="token punctuation">)</span> <span class="token operator">?:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置数据,并且会清空原数据列表
     * @param datas 新的数据列表
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">setDatas</span><span class="token punctuation">(</span>datas<span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mDatas<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        mDatas<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>datas<span class="token punctuation">)</span>
        <span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 添加新的数据列表到原数据列表末尾
     * @param datas 新的数据列表
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">addDatas</span><span class="token punctuation">(</span>datas<span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mDatas<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>datas<span class="token punctuation">)</span>
        <span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 添加新的数据列表到原数据列表的指定位置
     * @param position 需要添加的指定位置
     * @param datas 新的数据列表
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">addDatas</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">,</span> datas<span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> pos <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">></span> mDatas<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span>size
        <span class="token punctuation">}</span> <span class="token keyword">else</span> position
        mDatas<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> datas<span class="token punctuation">)</span>
        <span class="token function">notifyDataSetChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 更新数据列表指定位置上的数据
     * @param position 需要更新数据的位置
     * @param data 更新后的数据
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">updateData</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> mDatas<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
            mDatas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token punctuation">)</span>
            <span class="token function">notifyItemChanged</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 添加新的数据到原数据列表末尾
     * @param datas 新的数据
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">addData</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mDatas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token punctuation">)</span>
        <span class="token function">notifyItemInserted</span><span class="token punctuation">(</span>mDatas<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 添加新的数据到原数据列表的指定位置
     * @param position 需要添加的指定位置
     * @param data 新的数据
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">addData</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> pos <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">></span> mDatas<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span>size
        <span class="token punctuation">}</span> <span class="token keyword">else</span> position
        mDatas<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token punctuation">)</span>
        <span class="token function">notifyItemInserted</span><span class="token punctuation">(</span>pos<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 移除指定位置上的数据
     * @param position 需要添加的指定位置
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">removeDataAt</span><span class="token punctuation">(</span>position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> mDatas<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mDatas<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
            <span class="token function">notifyItemRemoved</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        context<span class="token punctuation">.</span><span class="token function">runOnUiThread</span> <span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">toast</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 移除指定的数据
     * @param data 需要移除的数据实体
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">removeData</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mDatas<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> position <span class="token operator">=</span> mDatas<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token punctuation">)</span>
            mDatas<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
            <span class="token function">notifyItemRemoved</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 根据View的类型获取对应的Item布局的ID
     */</span>
    <span class="token annotation builtin">@LayoutRes</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">getLayoutId</span><span class="token punctuation">(</span>viewType<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int


    <span class="token comment" spellcheck="true">/**
     * 绑定ViewHolder 时执行的方法，在此方法里处理对Item的view的操作
     */</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">onBindVH</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> VH<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> datas<span class="token operator">:</span> T<span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">/**
     * 返回数据的数量
     */</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">getItemCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mDatas<span class="token punctuation">.</span>size
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onBindViewHolder</span><span class="token punctuation">(</span>holder<span class="token operator">:</span> VH<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        holder<span class="token punctuation">.</span>itemView<span class="token punctuation">.</span><span class="token function">setTag</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>id<span class="token punctuation">.</span>itemViewPosition<span class="token punctuation">,</span> position<span class="token punctuation">)</span>
        <span class="token function">onBindVH</span><span class="token punctuation">(</span>holder<span class="token punctuation">,</span> position<span class="token punctuation">,</span> mDatas<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 *Item 的点击事件
 */</span>
<span class="token keyword">interface</span> OnItemClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">onItemClick</span><span class="token punctuation">(</span>view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 *Item 的长按事件
 */</span>
<span class="token keyword">interface</span> OnItemLongClickListener<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">onItemLongClick</span><span class="token punctuation">(</span>view<span class="token operator">:</span> View<span class="token punctuation">,</span> position<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">data</span><span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span>Boolean
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/**
 * 所有的Adapter 使用的ViewHolder
 */</span>
<span class="token keyword">class</span> <span class="token function">VH</span><span class="token punctuation">(</span>itemView<span class="token operator">:</span> View<span class="token punctuation">)</span> <span class="token operator">:</span> RecyclerView<span class="token punctuation">.</span><span class="token function">ViewHolder</span><span class="token punctuation">(</span>itemView<span class="token punctuation">)</span> <span class="token punctuation">{</span>


    <span class="token comment" spellcheck="true">/**
     * 根据View的id获取对应的View
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span><span class="token keyword">reified</span> E <span class="token operator">:</span> View<span class="token operator">></span> <span class="token function">getView</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> E <span class="token punctuation">{</span>
        <span class="token keyword">return</span> itemView<span class="token punctuation">.</span>find<span class="token operator">&lt;</span>E<span class="token operator">></span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对TextView及其子类设置文本内容
     * @param viewId 对应的View 的id
     * @param value 需要设置的文本内容
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setText</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> value<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token keyword">is</span> TextView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> tv<span class="token operator">:</span> TextView <span class="token operator">=</span> view
            tv<span class="token punctuation">.</span>text <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对TextView及其子类设置文本内容
     * @param viewId 对应的View 的id
     * @param value 需要设置的文本内容
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setText</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> value<span class="token operator">:</span> Spannable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token keyword">is</span> TextView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> tv<span class="token operator">:</span> TextView <span class="token operator">=</span> view
            tv<span class="token punctuation">.</span>text <span class="token operator">=</span> value
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对TextView及其子类设置文本内容
     * @param viewId 对应的View 的id
     * @param stringRes 需要设置的文本资源的id
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setText</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token annotation builtin">@StringRes</span> stringRes<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token keyword">is</span> TextView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> tv<span class="token operator">:</span> TextView <span class="token operator">=</span> view
            tv<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span>stringRes<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对ImageView及其子类设置图片
     * @param viewId 对应的View 的id
     * @param resId 需要设置的图片资源的id
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setImageResource</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token annotation builtin">@DrawableRes</span> resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token keyword">is</span> ImageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> iv<span class="token operator">:</span> ImageView <span class="token operator">=</span> view
            iv<span class="token punctuation">.</span>imageResource <span class="token operator">=</span> resId
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对ImageView及其子类设置图片
     * @param viewId 对应的View 的id
     * @param imgUrl 需要设置的网络图片的地址
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setImageUrl</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> imgUrl<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token keyword">is</span> ImageView<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> iv<span class="token operator">:</span> ImageView <span class="token operator">=</span> view
            iv<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span>imgUrl<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对View及其子类设置背景图片
     * @param viewId 对应的View 的id
     * @param resId 需要设置的背景图片的资源地址
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setBackgroundResource</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token annotation builtin">@DrawableRes</span> resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        view<span class="token punctuation">.</span><span class="token function">setBackgroundResource</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 对View及其子类设置背景颜色
     * @param viewId 对应的View 的id
     * @param color 需要设置的背景颜色
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setBackgroundColor</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token annotation builtin">@ColorInt</span> color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        view<span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 对View及其子类设置点击事件
     * @param viewId 对应的View 的id
     * @param color 需要设置的背景颜色
     */</span>
    <span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token function">setOnClick</span><span class="token punctuation">(</span><span class="token annotation builtin">@IdRes</span> viewId<span class="token operator">:</span> Int<span class="token punctuation">,</span> <span class="token keyword">crossinline</span> onClick<span class="token operator">:</span> <span class="token punctuation">(</span>View<span class="token punctuation">)</span> <span class="token operator">-></span> Unit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> view<span class="token operator">:</span> View <span class="token operator">=</span> <span class="token function">getView</span><span class="token punctuation">(</span>viewId<span class="token punctuation">)</span>
        view<span class="token punctuation">.</span><span class="token function">setOnClickListener</span> <span class="token punctuation">{</span>
            onClick<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<h3 id="4、ImageViewExtend"><a href="#4、ImageViewExtend" class="headerlink" title="4、ImageViewExtend"></a>4、ImageViewExtend</h3><p>package: cn.onestravel.library.kotlin.base.extend</p>
<p>改文件是ImageView的扩展方法的文件，主要针对ImageView加载网络图片而新增的一些扩展方法</p>
<p>具体方法如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token keyword">inline</span> <span class="token keyword">fun</span> ImageView<span class="token punctuation">.</span><span class="token function">loadImage</span><span class="token punctuation">(</span>imgUrl<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> ImageView <span class="token punctuation">{</span>
    ImageUtils<span class="token punctuation">.</span><span class="token function">loadImageUrl</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">fun</span> ImageView<span class="token punctuation">.</span><span class="token function">loadBitmap</span><span class="token punctuation">(</span>imgUrl<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> ImageView <span class="token punctuation">{</span>
    ImageUtils<span class="token punctuation">.</span><span class="token function">loadImageBitmap</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">fun</span> ImageView<span class="token punctuation">.</span><span class="token function">loadGif</span><span class="token punctuation">(</span>imgUrl<span class="token operator">:</span> String<span class="token punctuation">)</span><span class="token operator">:</span> ImageView <span class="token punctuation">{</span>
    ImageUtils<span class="token punctuation">.</span><span class="token function">loadImageGif</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">fun</span> ImageView<span class="token punctuation">.</span><span class="token function">loadImgCallBack</span><span class="token punctuation">(</span>imgUrl<span class="token operator">:</span> String<span class="token punctuation">,</span> requestListener<span class="token operator">:</span> RequestListener<span class="token operator">&lt;</span>Bitmap<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> ImageView <span class="token punctuation">{</span>
    ImageUtils<span class="token punctuation">.</span><span class="token function">loadImageCallBack</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span> imgUrl<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> requestListener<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="5、BaseFragment"><a href="#5、BaseFragment" class="headerlink" title="5、BaseFragment"></a>5、BaseFragment</h3><p>package: cn.onestravel.library.kotlin.base.fragment</p>
<p>所有Fragment的基类，定义一些子类必须实现的和可实现的方法，具体方法与BaseActivity方法类似。</p>
<h3 id="6、BaseListFragment"><a href="#6、BaseListFragment" class="headerlink" title="6、BaseListFragment"></a>6、BaseListFragment</h3><p>package: cn.onestravel.library.kotlin.base.fragment</p>
<p>继承自BaseFragment，实现针对RecyclerView实现列表数据的一些配置，简化实现只有一个列表布局的Fragment，并且实现上拉加载，下拉刷新操作；具体方法与BaseListActivity相同。</p>
<h3 id="7、DensityUtil"><a href="#7、DensityUtil" class="headerlink" title="7、DensityUtil"></a>7、DensityUtil</h3><p>package: cn.onestravel.library.kotlin.base.utils</p>
<p>尺寸转换工具类，可以将dip转为px，将px转为dip；获取屏幕宽度和高度。</p>
<pre class=" language-kotlin"><code class="language-kotlin">    <span class="token comment" spellcheck="true">/**
     * dip转换为px
     */</span>
    <span class="token keyword">fun</span> <span class="token function">dip2px</span><span class="token punctuation">(</span>dp<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>dp <span class="token operator">*</span> density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * px转换为dip
     */</span>
    <span class="token keyword">fun</span> <span class="token function">px2dip</span><span class="token punctuation">(</span>px<span class="token operator">:</span>  Float<span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>px <span class="token operator">/</span> density<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 获取屏幕宽度
     */</span>
    <span class="token keyword">fun</span> <span class="token function">appWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Resources<span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>widthPixels
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 获取屏幕高度
     */</span>
    <span class="token keyword">fun</span> <span class="token function">appHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Int <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Resources<span class="token punctuation">.</span><span class="token function">getSystem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDisplayMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>heightPixels
    <span class="token punctuation">}</span></code></pre>
<h3 id="8、CircleTextView"><a href="#8、CircleTextView" class="headerlink" title="8、CircleTextView"></a>8、CircleTextView</h3><p>package：cn.onestravel.library.kotlin.base.view</p>
<p>自定义圆形TextView，一满足不同需求</p>
<h3 id="9、EmptyView"><a href="#9、EmptyView" class="headerlink" title="9、EmptyView"></a>9、EmptyView</h3><p>package：cn.onestravel.library.kotlin.base.view</p>
<p>自定义 数据为空的页面视图，主要有三个功能类型，分别为：数据为空显示页面（TYPE_EMPTY）；加载进度提示页面（TYPE_LOADING）；加载失败可点击重试页面（TYPE_RELOAD）</p>
<p>重新定义的一下方法如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
     * 设置页面显示类型
     *
     * @param type
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyType</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">_setEmptyType</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置页面显示类型
     *
     * @param type
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">fun</span> <span class="token function">_setEmptyType</span><span class="token punctuation">(</span>type<span class="token operator">:</span> Int<span class="token punctuation">,</span> isShow<span class="token operator">:</span> Boolean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>emptyType <span class="token operator">=</span> type
        <span class="token keyword">when</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            TYPE_EMPTY <span class="token operator">-></span> <span class="token punctuation">{</span>
                layoutLoading<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                layoutReload<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                layoutEmpty<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                ivEmptyImg<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
            <span class="token punctuation">}</span>
            TYPE_LOADING <span class="token operator">-></span> <span class="token punctuation">{</span>
                layoutLoading<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
                layoutEmpty<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                layoutReload<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                <span class="token keyword">if</span> <span class="token punctuation">(</span>tvLoadingMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    tvLoadingMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string">"正在加载..."</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            TYPE_RELOAD <span class="token operator">-></span> <span class="token punctuation">{</span>
                layoutLoading<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                layoutEmpty<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
                layoutReload<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
                ivEmptyImg<span class="token operator">!!</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isShow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置空数据界面的背景色
     *
     * @param color 背景色
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyBackgroundColor</span><span class="token punctuation">(</span>color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        layoutEmpty<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setBackgroundColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置错误描述
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyText</span><span class="token punctuation">(</span><span class="token annotation builtin">@StringRes</span> resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvEmptyMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvEmptyMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置错误描述
     *
     * @param text
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyText</span><span class="token punctuation">(</span>text<span class="token operator">:</span> CharSequence<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> text <span class="token operator">=</span> text
        <span class="token keyword">if</span> <span class="token punctuation">(</span>text <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            text <span class="token operator">=</span> <span class="token string">""</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvEmptyMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvEmptyMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> text
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置错误描述字体大小
     *
     * @param size
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyTextSize</span><span class="token punctuation">(</span>size<span class="token operator">:</span> Float<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvEmptyMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvEmptyMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span>TypedValue<span class="token punctuation">.</span>COMPLEX_UNIT_PX<span class="token punctuation">,</span> size<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置错误描述颜色
     *
     * @param color
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyTextColor</span><span class="token punctuation">(</span>color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvEmptyMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvEmptyMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置错误描述颜色
     *
     * @param colors
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyTextColor</span><span class="token punctuation">(</span>colors<span class="token operator">:</span> ColorStateList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvEmptyMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvEmptyMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置页面图片
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyImgResource</span><span class="token punctuation">(</span><span class="token annotation builtin">@DrawableRes</span> resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>noDataImg <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>noDataImg <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span>resources<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ivEmptyImg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ivEmptyImg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置页面图片
     *
     * @param noDataImg
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setEmptyImg</span><span class="token punctuation">(</span>noDataImg<span class="token operator">:</span> Drawable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>noDataImg <span class="token operator">=</span> noDataImg
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ivEmptyImg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ivEmptyImg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setImageDrawable</span><span class="token punctuation">(</span>noDataImg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 获取加载按钮文字
     */</span>
    <span class="token keyword">fun</span> <span class="token function">getReloadBtnText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reloadBtnText
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载按钮文字
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnText</span><span class="token punctuation">(</span>resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnText <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载按钮文字
     *
     * @param reloadBtnText
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnText</span><span class="token punctuation">(</span>reloadBtnText<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnText <span class="token operator">=</span> reloadBtnText
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置重新加载按钮文字大小
     *
     * @param reloadBtnTextSize
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnTextSize</span><span class="token punctuation">(</span>reloadBtnTextSize<span class="token operator">:</span> Float<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnTextSize <span class="token operator">=</span> reloadBtnTextSize
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span>TypedValue<span class="token punctuation">.</span>COMPLEX_UNIT_PX<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnTextSize<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置重新加载按钮文字颜色
     *
     * @param color
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnTextColor</span><span class="token punctuation">(</span>color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnTextColor <span class="token operator">=</span> color
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnTextColor<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载按钮文字颜色
     *
     * @param colors
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnTextColor</span><span class="token punctuation">(</span>colors<span class="token operator">:</span> ColorStateList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置加载按钮背景
     *
     * @param reloadBackground
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnBackground</span><span class="token punctuation">(</span>reloadBackground<span class="token operator">:</span> Drawable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground <span class="token operator">=</span> reloadBackground
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>JELLY_BEAN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setBackgroundDrawable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置加载按钮背景
     *
     * @param color
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnBackgroundColor</span><span class="token punctuation">(</span>color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground <span class="token operator">=</span> <span class="token function">ColorDrawable</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>JELLY_BEAN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setBackgroundDrawable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置加载按钮背景
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadBtnBackgroundResource</span><span class="token punctuation">(</span>resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span>resources<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>btnReload <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>JELLY_BEAN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span>background <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                btnReload<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setBackgroundDrawable</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reloadBtnBackground<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 获取加载提示文字
     */</span>
    <span class="token keyword">fun</span> <span class="token function">getReloadText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String<span class="token operator">?</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> reloadText
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载提示文字
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadText</span><span class="token punctuation">(</span>resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadText <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvReloadMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvReloadMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载提示文字
     *
     * @param reloadText
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadText</span><span class="token punctuation">(</span>reloadText<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadText <span class="token operator">=</span> reloadText
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvReloadMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvReloadMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置重新加载提示文字大小
     *
     * @param reloadTextSize
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadTextSize</span><span class="token punctuation">(</span>reloadTextSize<span class="token operator">:</span> Float<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadTextSize <span class="token operator">=</span> reloadTextSize
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvReloadMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvReloadMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextSize</span><span class="token punctuation">(</span>TypedValue<span class="token punctuation">.</span>COMPLEX_UNIT_PX<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>reloadTextSize<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置重新加载提示文字颜色
     *
     * @param color
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadTextColor</span><span class="token punctuation">(</span>color<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadTextColor <span class="token operator">=</span> color
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvReloadMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvReloadMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>reloadTextColor<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载提示文字颜色
     *
     * @param colors
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadTextColor</span><span class="token punctuation">(</span>colors<span class="token operator">:</span> ColorStateList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvReloadMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvReloadMsg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setTextColor</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置页面图片
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadImgResource</span><span class="token punctuation">(</span><span class="token annotation builtin">@DrawableRes</span> resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Build<span class="token punctuation">.</span>VERSION<span class="token punctuation">.</span>SDK_INT <span class="token operator">>=</span> Build<span class="token punctuation">.</span>VERSION_CODES<span class="token punctuation">.</span>LOLLIPOP<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reloadImage <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>reloadImage <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span>resources<span class="token punctuation">.</span><span class="token function">getDrawable</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ivReloadImg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ivReloadImg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置页面图片
     *
     * @param reloadImage
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setReloadImg</span><span class="token punctuation">(</span>reloadImage<span class="token operator">:</span> Drawable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>reloadImage <span class="token operator">=</span> reloadImage
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ivReloadImg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ivReloadImg<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">setImageDrawable</span><span class="token punctuation">(</span>reloadImage<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>


    <span class="token comment" spellcheck="true">/**
     * 设置加载提示文字
     *
     * @param resId
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setLoadingText</span><span class="token punctuation">(</span>resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loadingText <span class="token operator">=</span> mContext<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvLoadingMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvLoadingMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置加载提示文字
     *
     * @param loadingText
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setLoadingText</span><span class="token punctuation">(</span>loadingText<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loadingText <span class="token operator">=</span> loadingText
        <span class="token keyword">if</span> <span class="token punctuation">(</span>tvLoadingMsg <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            tvLoadingMsg<span class="token operator">!!</span><span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>loadingText
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 显示此视图
     */</span>
    <span class="token keyword">fun</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>VISIBLE
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 隐藏此视图
     */</span>
    <span class="token keyword">fun</span> <span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>visibility <span class="token operator">=</span> View<span class="token punctuation">.</span>GONE
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 设置重新加载监听事件
     *
     * @param listener
     */</span>
    <span class="token keyword">fun</span> <span class="token function">setOnReloadListener</span><span class="token punctuation">(</span>listener<span class="token operator">:</span> OnReloadListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>onReloadListener <span class="token operator">=</span> listener
    <span class="token punctuation">}</span>


    <span class="token keyword">interface</span> OnReloadListener <span class="token punctuation">{</span>
        <span class="token keyword">fun</span> <span class="token function">onReload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token keyword">val</span> TYPE_EMPTY <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment" spellcheck="true">// 页面为空，没有数据时展示</span>
        <span class="token keyword">const</span> <span class="token keyword">val</span> TYPE_LOADING <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment" spellcheck="true">// 正在加载视图</span>
        <span class="token keyword">const</span> <span class="token keyword">val</span> TYPE_RELOAD <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment" spellcheck="true">// 加载失败，显示重新加载视图</span>
    <span class="token punctuation">}</span></code></pre>
<h3 id="10、ShapeImageView"><a href="#10、ShapeImageView" class="headerlink" title="10、ShapeImageView"></a>10、ShapeImageView</h3><p>package：cn.onestravel.library.kotlin.base.view</p>
<p>自定义矩形和圆形ImageView，实现带边框的圆角矩形ImageView或圆形ImageVIew</p>
<p>viewShape的值为：</p>
<table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>SHAPE_REC</td>
<td>矩形ImageView</td>
</tr>
<tr>
<td>SHAPE_CIRCLE</td>
<td>圆形ImageView</td>
</tr>
<tr>
<td>SHAPE_OVAL</td>
<td>椭圆ImageView</td>
</tr>
</tbody></table>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * 设置ImageView的形式，圆角矩形，圆形，或椭圆
 **/</span>
<span class="token keyword">var</span> shape <span class="token operator">=</span> SHAPE_REC<span class="token operator">:</span> Int
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> shape
        <span class="token keyword">set</span><span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>shape <span class="token operator">=</span> shape
            <span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/**
 * 设置ImageView边框颜色
 **/</span>
 <span class="token keyword">var</span> borderColor<span class="token operator">:</span> Int
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> mBorderColor
        <span class="token keyword">set</span><span class="token punctuation">(</span>mBorderColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mBorderColor <span class="token operator">=</span> mBorderColor
            mBorderPaint<span class="token punctuation">.</span>color <span class="token operator">=</span> mBorderColor
            <span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/**
      * 设置ImageView的圆角
      **/</span>
    <span class="token keyword">var</span> roundRadius<span class="token operator">:</span> Float
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> mRoundRadius
        <span class="token keyword">set</span><span class="token punctuation">(</span>mRoundRadius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>mRoundRadius <span class="token operator">=</span> mRoundRadius
            <span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/**
      * 设置ImageView的边框宽度
      **/</span>
    <span class="token keyword">fun</span> <span class="token function">setBorderSize</span><span class="token punctuation">(</span>mBorderSize<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>borderSize <span class="token operator">=</span> mBorderSize<span class="token punctuation">.</span><span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        mBorderPaint<span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> mBorderSize<span class="token punctuation">.</span><span class="token function">toFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">initRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/**
      * 设置ImageView的图片资源
      **/</span>
<span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setImageResource</span><span class="token punctuation">(</span>resId<span class="token operator">:</span> Int<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">setImageResource</span><span class="token punctuation">(</span>resId<span class="token punctuation">)</span>
        mBitmap <span class="token operator">=</span> ImageUtils<span class="token punctuation">.</span><span class="token function">getBitmapFromDrawable</span><span class="token punctuation">(</span>drawable<span class="token punctuation">)</span>
        <span class="token function">setupBitmapShader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/**
      * 设置ImageView的Drawable
      **/</span>        
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">setImageDrawable</span><span class="token punctuation">(</span>drawable<span class="token operator">:</span> Drawable<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">setImageDrawable</span><span class="token punctuation">(</span>drawable<span class="token punctuation">)</span>
        mBitmap <span class="token operator">=</span> ImageUtils<span class="token punctuation">.</span><span class="token function">getBitmapFromDrawable</span><span class="token punctuation">(</span>drawable<span class="token punctuation">)</span>
        <span class="token function">setupBitmapShader</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

</code></pre>
<h2 id="二、采用RxJava-Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍"><a href="#二、采用RxJava-Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍" class="headerlink" title="二、采用RxJava+Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍"></a>二、采用RxJava+Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍</h2><h3 id="1、BaseRxActivity"><a href="#1、BaseRxActivity" class="headerlink" title="1、BaseRxActivity"></a>1、BaseRxActivity</h3><p>package：cn.onestravel.library.kotlin.rxrequest.activity</p>
<p>继承自BaseActivity ，针对RxJava处理了相对应的生命周期，同时拥有BaseActivity的所有特性。</p>
<p>生命周期处理：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseRxActivity <span class="token operator">:</span> <span class="token function">BaseActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LifecycleProvider<span class="token operator">&lt;</span>ActivityEvent<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> lifecycleSubject<span class="token operator">:</span>BehaviorSubject<span class="token operator">&lt;</span>ActivityEvent<span class="token operator">></span> <span class="token operator">=</span> BehaviorSubject<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token annotation builtin">@CheckResult</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">lifecycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>ActivityEvent<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lifecycleSubject<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CheckResult</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">bindUntilEvent</span><span class="token punctuation">(</span>event<span class="token operator">:</span> ActivityEvent<span class="token punctuation">)</span><span class="token operator">:</span> LifecycleTransformer<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> RxLifecycle<span class="token punctuation">.</span><span class="token function">bindUntilEvent</span><span class="token punctuation">(</span>lifecycleSubject<span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CheckResult</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">bindToLifecycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> LifecycleTransformer<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> RxLifecycleAndroid<span class="token punctuation">.</span><span class="token function">bindActivity</span><span class="token punctuation">(</span>lifecycleSubject<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>CREATE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>START<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>RESUME<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>PAUSE<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>STOP<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>ActivityEvent<span class="token punctuation">.</span>DESTROY<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="2、BaseRxListActivity"><a href="#2、BaseRxListActivity" class="headerlink" title="2、BaseRxListActivity"></a>2、BaseRxListActivity</h3><p>package：cn.onestravel.library.kotlin.rxrequest.activity</p>
<p>继承自BaseListActivity ，针对RxJava处理了相对应的生命周期，同时拥有BaseListActivity下拉刷新，上拉加载的所有特性。</p>
<h3 id="3、BaseRxFragment"><a href="#3、BaseRxFragment" class="headerlink" title="3、BaseRxFragment"></a>3、BaseRxFragment</h3><p>package：cn.onestravel.library.kotlin.rxrequest.fragment</p>
<p>继承自BaseFragment ，针对RxJava处理了相对应的生命周期，同时拥有BaseFragment的所有特性。</p>
<p>生命周期处理：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseRxFragment <span class="token operator">:</span> <span class="token function">BaseFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LifecycleProvider<span class="token operator">&lt;</span>FragmentEvent<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> lifecycleSubject<span class="token operator">:</span>BehaviorSubject<span class="token operator">&lt;</span>FragmentEvent<span class="token operator">></span> <span class="token operator">=</span> BehaviorSubject<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">lifecycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>FragmentEvent<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> lifecycleSubject<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CheckResult</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">bindUntilEvent</span><span class="token punctuation">(</span>event<span class="token operator">:</span> FragmentEvent<span class="token punctuation">)</span><span class="token operator">:</span> LifecycleTransformer<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> RxLifecycle<span class="token punctuation">.</span><span class="token function">bindUntilEvent</span><span class="token punctuation">(</span>lifecycleSubject<span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CheckResult</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">bindToLifecycle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> LifecycleTransformer<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> RxLifecycleAndroid<span class="token punctuation">.</span><span class="token function">bindFragment</span><span class="token punctuation">(</span>lifecycleSubject<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>CREATE<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreateView</span><span class="token punctuation">(</span>inflater<span class="token operator">:</span> LayoutInflater<span class="token punctuation">,</span> container<span class="token operator">:</span> ViewGroup<span class="token operator">?</span><span class="token punctuation">,</span> savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">:</span> View<span class="token operator">?</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>CREATE_VIEW<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreateView</span><span class="token punctuation">(</span>inflater<span class="token punctuation">,</span> container<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>START<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>RESUME<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>PAUSE<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>STOP<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onDestroyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>DESTROY_VIEW<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token annotation builtin">@CallSuper</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lifecycleSubject<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>FragmentEvent<span class="token punctuation">.</span>DESTROY<span class="token punctuation">)</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="4、BaseRxListFragment"><a href="#4、BaseRxListFragment" class="headerlink" title="4、BaseRxListFragment"></a>4、BaseRxListFragment</h3><p>package：cn.onestravel.library.kotlin.rxrequest.fragment</p>
<p>继承自BaseListFragment ，针对RxJava处理了相对应的生命周期，同时拥有BaseListFragment下拉刷新，上拉加载的所有特性。</p>
<h3 id="5、BaseObserver-lt-T-ResponseResult-gt"><a href="#5、BaseObserver-lt-T-ResponseResult-gt" class="headerlink" title="5、BaseObserver&lt;T: ResponseResult&gt;"></a>5、BaseObserver&lt;T: ResponseResult&gt;</h3><p>package：cn.onestravel.library.kotlin.rxrequest.common</p>
<p>RxJava+Retrofit 请求的观察者，返回特定数据结构的数据，并进行相应的处理。</p>
<p>具体实现如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.BaseObserver
 * @description 请求返回结果，返回json数据必须符合 {"code":"0000","msg":""}
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseObserver<span class="token operator">&lt;</span>T <span class="token operator">:</span> ResponseResult<span class="token operator">></span> <span class="token operator">:</span> Observer<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/**
     * 请求开始 处理基本的loading框的显示等
     *
     * @param d
     */</span>
    <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
            TAG<span class="token punctuation">,</span>
            <span class="token string">"===========单个接口请求开始========="</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 此方法必须实现
     *
     * @param result 请求成功的结果
     */</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>result<span class="token operator">:</span> T<span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">/**
     * 请求失败
     *
     * @param code 错误码
     * @param msg  错误提示语
     */</span>
    <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>code<span class="token operator">:</span> String<span class="token punctuation">,</span> msg<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
            TAG<span class="token punctuation">,</span>
            <span class="token string">"接口请求失败===code = "</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">"errorMsg ="</span> <span class="token operator">+</span> msg 
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 请求都完成时之行此方法
     */</span>
    <span class="token keyword">fun</span> <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNext</span><span class="token punctuation">(</span>result<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>BaseResponse<span class="token punctuation">.</span>REQUEST_OK <span class="token operator">==</span> result<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">onSuccess</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"请求成功responseBody===="</span> <span class="token operator">+</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">onFailure</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>code<span class="token punctuation">,</span> result<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token operator">:</span> Throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> errorMsg <span class="token operator">=</span> <span class="token string">""</span>
        <span class="token keyword">var</span> errorCode <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">is</span> HttpException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> httpException <span class="token operator">=</span> e <span class="token keyword">as</span> HttpException
            errorCode <span class="token operator">=</span> httpException<span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">404</span> <span class="token operator">==</span> errorCode <span class="token operator">||</span> <span class="token number">500</span> <span class="token operator">==</span> errorCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                errorMsg <span class="token operator">=</span> <span class="token string">"请求异常，请稍候重试！"</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//todo 设置固定的错误码及错误提示</span>
        <span class="token punctuation">}</span>
        <span class="token function">onFailure</span><span class="token punctuation">(</span>errorCode<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> errorMsg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">val</span> TAG <span class="token operator">=</span> <span class="token string">"request"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>BaseResponse:</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.BaseResponse
 * @description 请求返回结果数据基类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">open</span> <span class="token keyword">class</span> <span class="token function">BaseResponse</span><span class="token punctuation">(</span><span class="token keyword">val</span> code<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">"0000"</span><span class="token punctuation">,</span> <span class="token keyword">val</span> msg<span class="token operator">:</span> String <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token operator">:</span> Serializable <span class="token punctuation">{</span>
    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> REQUEST_OK <span class="token operator">=</span> <span class="token string">"0000"</span>  <span class="token comment" spellcheck="true">//请求成功的code码</span>
        <span class="token keyword">val</span> REQUEST_ERROR <span class="token operator">=</span> <span class="token string">"-1"</span> <span class="token comment" spellcheck="true">//请求失败的code码</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>ResponseResult:</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.ResponseResult
 * @description 请求返回结果数据 符合 {"code":"0000","msg":"","data":{},"datas":[]} 的基类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">class</span> ResponseResult <span class="token operator">:</span><span class="token function">BaseResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Serializable</code></pre>
<h3 id="6、BaseObserver1-lt-DATA-Serializable-gt"><a href="#6、BaseObserver1-lt-DATA-Serializable-gt" class="headerlink" title="6、BaseObserver1&lt;DATA: Serializable&gt;"></a>6、BaseObserver1&lt;DATA: Serializable&gt;</h3><p>package：cn.onestravel.library.kotlin.rxrequest.common</p>
<p>RxJava+Retrofit 请求的观察者，返回特定数据结构的数据，并进行相应的处理。</p>
<p>具体实现如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.BaseObserver
 * @description 请求返回结果，返回json数据必须符合  {"code":"0000","msg":"","data":{},"datas":[]},data 和 datas 的数据 bean 相同
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseObserver1<span class="token operator">&lt;</span>DATA <span class="token operator">:</span> Serializable<span class="token operator">></span> <span class="token operator">:</span> Observer<span class="token operator">&lt;</span>ResponseResult1<span class="token operator">&lt;</span>DATA<span class="token operator">></span><span class="token operator">></span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">/**
     * 请求开始 处理基本的loading框的显示等
     *
     * @param d
     */</span>
    <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
            TAG<span class="token punctuation">,</span>
            <span class="token string">"===========单个接口请求开始  =========="</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 此方法必须实现
     *
     * @param result 请求成功的结果
     */</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>result<span class="token operator">:</span> ResponseResult1<span class="token operator">&lt;</span>DATA<span class="token operator">></span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">/**
     * 请求失败
     *
     * @param code 错误码
     * @param msg  错误提示语
     */</span>
    <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>code<span class="token operator">:</span> String<span class="token punctuation">,</span> msg<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
            TAG<span class="token punctuation">,</span>
            <span class="token string">"接口请求失败============code = "</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">"errorMsg ="</span> <span class="token operator">+</span> msg    <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 请求都完成时之行此方法
     */</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNext</span><span class="token punctuation">(</span>result<span class="token operator">:</span> ResponseResult1<span class="token operator">&lt;</span>DATA<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>BaseResponse<span class="token punctuation">.</span>REQUEST_OK <span class="token operator">==</span> result<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">onSuccess</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            Log<span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">"请求成功responseBody===="</span> <span class="token operator">+</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">onFailure</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>code<span class="token punctuation">,</span> result<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token operator">:</span> Throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> errorMsg <span class="token operator">=</span> <span class="token string">""</span>
        <span class="token keyword">var</span> errorCode <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">is</span> HttpException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> httpException <span class="token operator">=</span> e <span class="token keyword">as</span> HttpException
            errorCode <span class="token operator">=</span> httpException<span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">404</span> <span class="token operator">==</span> errorCode <span class="token operator">||</span> <span class="token number">500</span> <span class="token operator">==</span> errorCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                errorMsg <span class="token operator">=</span> <span class="token string">"请求异常，请稍候重试！"</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//todo 设置固定的错误码及错误提示</span>
        <span class="token punctuation">}</span>
        <span class="token function">onFailure</span><span class="token punctuation">(</span>errorCode<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> errorMsg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">val</span> TAG <span class="token operator">=</span> <span class="token string">"request"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>ResponseResult1:</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.ResponseResult
 * @description 请求返回结果数据 符合 {"code":"0000","msg":"","data":{},"datas":[]} 的基类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">class</span> ResponseResult1<span class="token operator">&lt;</span>DATA<span class="token operator">:</span>Serializable<span class="token operator">></span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> <span class="token keyword">data</span><span class="token operator">:</span> DATA<span class="token operator">?</span><span class="token punctuation">,</span>
    <span class="token keyword">val</span> datas<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>DATA<span class="token operator">></span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">BaseResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Serializable

</code></pre>
<h3 id="7、BaseObserver2-lt-DATA-Serializable-ITEM-Serializable-gt"><a href="#7、BaseObserver2-lt-DATA-Serializable-ITEM-Serializable-gt" class="headerlink" title="7、BaseObserver2&lt;DATA : Serializable,ITEM:Serializable&gt;"></a>7、BaseObserver2&lt;DATA : Serializable,ITEM:Serializable&gt;</h3><p>package：cn.onestravel.library.kotlin.rxrequest.common</p>
<p>RxJava+Retrofit 请求的观察者，返回特定数据结构的数据，并进行相应的处理。</p>
<p>具体实现如下：</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token keyword">package</span> cn<span class="token punctuation">.</span>onestravel<span class="token punctuation">.</span>library<span class="token punctuation">.</span>kotlin<span class="token punctuation">.</span>rxrequest<span class="token punctuation">.</span>common

<span class="token keyword">import</span> android<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Log
<span class="token keyword">import</span> io<span class="token punctuation">.</span>reactivex<span class="token punctuation">.</span>Observer
<span class="token keyword">import</span> io<span class="token punctuation">.</span>reactivex<span class="token punctuation">.</span>disposables<span class="token punctuation">.</span>Disposable
<span class="token keyword">import</span> retrofit2<span class="token punctuation">.</span>HttpException
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Serializable

<span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.BaseObserver2
 * @description 请求返回结果，返回json数据必须符合 {"code":"0000","msg":"","data":{},"datas":[]},data 和 datas 的数据 bean 可以不相同
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseObserver2<span class="token operator">&lt;</span>DATA <span class="token operator">:</span> Serializable<span class="token punctuation">,</span>ITEM<span class="token operator">:</span>Serializable<span class="token operator">></span> <span class="token operator">:</span> Observer<span class="token operator">&lt;</span>ResponseResult2<span class="token operator">&lt;</span>DATA<span class="token punctuation">,</span>ITEM<span class="token operator">></span><span class="token operator">></span><span class="token punctuation">,</span> ObserverResult<span class="token operator">&lt;</span>ResponseResult2<span class="token operator">&lt;</span>DATA<span class="token punctuation">,</span>ITEM<span class="token operator">></span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/**
     * 请求开始 处理基本的loading框的显示等
     *
     * @param d
     */</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
             BaseObserver2<span class="token punctuation">.</span>TAG<span class="token punctuation">,</span>
            <span class="token string">"===========单个接口请求开始  =========="</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 此方法必须实现
     *
     * @param result 请求成功的结果
     */</span>
    <span class="token keyword">abstract</span> <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>result<span class="token operator">:</span> ResponseResult2<span class="token operator">&lt;</span>DATA<span class="token punctuation">,</span> ITEM<span class="token operator">></span><span class="token punctuation">)</span>

    <span class="token comment" spellcheck="true">/**
     * 请求失败
     *
     * @param code 错误码
     * @param msg  错误提示语
     */</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFailure</span><span class="token punctuation">(</span>code<span class="token operator">:</span> String<span class="token punctuation">,</span> msg<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span>
             BaseObserver2<span class="token punctuation">.</span>TAG<span class="token punctuation">,</span>
            <span class="token string">"接口请求失败============code = "</span> <span class="token operator">+</span> code <span class="token operator">+</span> <span class="token string">"errorMsg ="</span> <span class="token operator">+</span> msg    <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 请求都完成时之行此方法
     */</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSubscribe</span><span class="token punctuation">(</span>d<span class="token operator">:</span> Disposable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onStart</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onNext</span><span class="token punctuation">(</span>baseObject<span class="token operator">:</span> ResponseResult2<span class="token operator">&lt;</span>DATA<span class="token punctuation">,</span>ITEM<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//        Log.i("responseBody====",)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>BaseResponse<span class="token punctuation">.</span>REQUEST_OK <span class="token operator">==</span> baseObject<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">onSuccess</span><span class="token punctuation">(</span>baseObject<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">onFailure</span><span class="token punctuation">(</span>baseObject<span class="token punctuation">.</span>code<span class="token punctuation">,</span> baseObject<span class="token punctuation">.</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     *
     */</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onError</span><span class="token punctuation">(</span>e<span class="token operator">:</span> Throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> errorMsg <span class="token operator">=</span> <span class="token string">""</span>
        <span class="token keyword">var</span> errorCode <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">is</span> HttpException<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">val</span> httpException <span class="token operator">=</span> e <span class="token keyword">as</span> HttpException
            errorCode <span class="token operator">=</span> httpException<span class="token punctuation">.</span><span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">404</span> <span class="token operator">==</span> errorCode <span class="token operator">||</span> <span class="token number">500</span> <span class="token operator">==</span> errorCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                errorMsg <span class="token operator">=</span> <span class="token string">"请求异常，请稍候重试！"</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//todo 设置固定的错误码及错误提示</span>
        <span class="token punctuation">}</span>
        <span class="token function">onFailure</span><span class="token punctuation">(</span>errorCode<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> errorMsg<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">onFinish</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">val</span> TAG <span class="token operator">=</span> <span class="token string">"RequestBaseObserver2"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>ResponseResult2:</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.common.ResponseResult
 * @description 请求返回结果数据 符合 {"code":"0000","msg":"","data":{},"datas":[]} 的基类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">class</span> ResponseResult2<span class="token operator">&lt;</span>DATA<span class="token operator">:</span>Serializable<span class="token punctuation">,</span>ITEM<span class="token operator">:</span>Serializable<span class="token operator">></span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> <span class="token keyword">data</span><span class="token operator">:</span> DATA<span class="token operator">?</span><span class="token punctuation">,</span>
    <span class="token keyword">val</span> datas<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>ITEM<span class="token operator">></span><span class="token operator">?</span> <span class="token operator">=</span> <span class="token function">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token operator">:</span><span class="token function">BaseResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Serializable

</code></pre>
<h3 id="8、BaseLoader"><a href="#8、BaseLoader" class="headerlink" title="8、BaseLoader"></a>8、BaseLoader</h3><p>package：cn.onestravel.library.kotlin.rxrequest.loader</p>
<p>公共的Loader，处理observe针对请求进行线程切换</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseLoader<span class="token operator">&lt;</span>S <span class="token operator">:</span> BaseService<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">val</span> mServiceManager<span class="token operator">:</span> RetrofitServiceManager <span class="token keyword">by</span> lazy <span class="token punctuation">{</span> RetrofitServiceManager<span class="token punctuation">.</span>INSTANCE <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">val</span> mService<span class="token operator">:</span> S <span class="token keyword">by</span> lazy <span class="token punctuation">{</span> <span class="token function">createService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/**
     * 创建 Service 实例
     */</span>
    <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">createService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> S

    <span class="token comment" spellcheck="true">/**
     * 设置Observable的工作线程
     * @param observable
     * @param &lt;T>
     * @return
    &lt;/T> */</span>
    <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">observe</span><span class="token punctuation">(</span>observable<span class="token operator">:</span> Observable<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Observable<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> observable<span class="token punctuation">.</span><span class="token function">subscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">unsubscribeOn</span><span class="token punctuation">(</span>Schedulers<span class="token punctuation">.</span><span class="token function">io</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">observeOn</span><span class="token punctuation">(</span>AndroidSchedulers<span class="token punctuation">.</span><span class="token function">mainThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
</code></pre>
<h3 id="9、BaseService"><a href="#9、BaseService" class="headerlink" title="9、BaseService"></a>9、BaseService</h3><p>package：cn.onestravel.library.kotlin.rxrequest.service</p>
<p>所有 Retrofit 请求的 Service 的接口基类，目前只用于规范子类，可声明对应公用方法</p>
<h3 id="10、RetrofitServiceManager"><a href="#10、RetrofitServiceManager" class="headerlink" title="10、RetrofitServiceManager"></a>10、RetrofitServiceManager</h3><p>package：cn.onestravel.library.kotlin.rxrequest.service</p>
<p>生成接口service实例的管理类，初始化Retrofit 实例，设置请求相关的一些拦截器、超时时间等配置，定义Http请求的公共URL</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name cn.onestravel.library.kotlin.rxrequest.service.RetrofitServiceManager
 * @description 生成接口实例的管理类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">class</span> RetrofitServiceManager <span class="token keyword">private</span> <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> mRetrofit<span class="token operator">:</span> Retrofit
    <span class="token keyword">init</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> interceptorBuild <span class="token operator">=</span> HttpCommonInterceptor<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">val</span> logging <span class="token operator">=</span> <span class="token function">HttpLoggingInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        logging<span class="token punctuation">.</span>level <span class="token operator">=</span> HttpLoggingInterceptor<span class="token punctuation">.</span>Level<span class="token punctuation">.</span>BODY
        <span class="token keyword">val</span> okHttpClientBuild <span class="token operator">=</span> OkHttpClient<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        okHttpClientBuild<span class="token punctuation">.</span><span class="token function">connectTimeout</span><span class="token punctuation">(</span>CONNECTION_TIMEOUT<span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">readTimeout</span><span class="token punctuation">(</span>READ_TIMEOUT<span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">writeTimeout</span><span class="token punctuation">(</span>WRITE_TIMEOUT<span class="token punctuation">.</span><span class="token function">toLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> TimeUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>interceptorBuild<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//拦截器添加公共请求参数</span>
            <span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token function">RetryInterceptor</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//重试三次的拦截</span>
                        <span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>logging<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//请求日志打印</span>

        <span class="token comment" spellcheck="true">//初始化Retrofit</span>
        mRetrofit <span class="token operator">=</span> Retrofit<span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">baseUrl</span><span class="token punctuation">(</span>BASE_URL<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addConverterFactory</span><span class="token punctuation">(</span>GsonConverterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addCallAdapterFactory</span><span class="token punctuation">(</span>RxJava2CallAdapterFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">client</span><span class="token punctuation">(</span>okHttpClientBuild<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>



    <span class="token comment" spellcheck="true">/**
     * 生成对应接口的实例
     *
     * @param service
     * @param &lt;T>
     * @return
    &lt;/T> */</span>
    <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">:</span>BaseService<span class="token operator">></span> <span class="token function">create</span><span class="token punctuation">(</span>service<span class="token operator">:</span> Class<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
        <span class="token keyword">return</span> mRetrofit<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>service<span class="token punctuation">)</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">companion</span> <span class="token keyword">object</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> INSTANCE <span class="token keyword">by</span> lazy <span class="token punctuation">{</span> <span class="token function">RetrofitServiceManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
        <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> CONNECTION_TIMEOUT <span class="token operator">=</span> <span class="token number">5</span>
        <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> READ_TIMEOUT <span class="token operator">=</span> <span class="token number">20</span>
        <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> WRITE_TIMEOUT <span class="token operator">=</span> <span class="token number">10</span>
        <span class="token keyword">private</span> <span class="token keyword">const</span> <span class="token keyword">val</span> BASE_URL <span class="token operator">=</span> <span class="token string">"http://192.168.1.12:9090/"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="三、采用Mvp架构封装的文件介绍"><a href="#三、采用Mvp架构封装的文件介绍" class="headerlink" title="三、采用Mvp架构封装的文件介绍"></a>三、采用Mvp架构封装的文件介绍</h2><h3 id="1、BaseMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><a href="#1、BaseMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt" class="headerlink" title="1、BaseMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;"></a>1、BaseMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter<V>&gt;</h3><p>package：cn.onestravel.library.kotlin.mvp.activity</p>
<p>所有Mvp架构的 Activity 的基类,自BaseActivity ，拥有BaseActivity的所有特性,处理了P层的相关生命周期。</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name  BaseMvpActivity
 * @description 所有Mvp架构的 Activity 的基类
 * @createTime 2018/12/12 17:00
 * @author onestravel
 * @version 1.0.0
 */</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> BaseMvpActivity<span class="token operator">&lt;</span>V <span class="token operator">:</span> BaseMvpView<span class="token punctuation">,</span> P <span class="token operator">:</span> BaseMvpPresenter<span class="token operator">&lt;</span>V<span class="token operator">></span><span class="token operator">></span> <span class="token operator">:</span> <span class="token function">BaseActivity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> BaseMvpView <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> presenter <span class="token keyword">by</span> lazy <span class="token punctuation">{</span> <span class="token function">createPresenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">var</span> mLoadingDialog<span class="token operator">:</span> LoadingDialog<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">fun</span> <span class="token function">createPresenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> P

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span>savedInstanceState<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>presenter <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span>  <span class="token function">NullPointerException</span><span class="token punctuation">(</span><span class="token string">"Presenter is null! Do you return null in createPresenter()?"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        presenter<span class="token punctuation">.</span><span class="token function">onMvpAttachView</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">as</span> V<span class="token punctuation">,</span> savedInstanceState<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        presenter<span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        presenter<span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        presenter<span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        presenter<span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span>
        presenter<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpSaveInstanceState</span><span class="token punctuation">(</span>outState<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        presenter<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpDetachView</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
            it<span class="token punctuation">.</span><span class="token function">onMvpDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        mLoadingDialog<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            it<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            mLoadingDialog <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">showLoading</span><span class="token punctuation">(</span>content<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mLoadingDialog <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            mLoadingDialog <span class="token operator">=</span> LoadingDialog<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
            mLoadingDialog<span class="token operator">!!</span><span class="token punctuation">.</span>title <span class="token operator">=</span> content<span class="token operator">?:</span><span class="token string">"正在加载..."</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mLoadingDialog<span class="token operator">!!</span><span class="token punctuation">.</span>isShowing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                mLoadingDialog<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mLoadingDialog<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            mLoadingDialog<span class="token operator">!!</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">onResponseError</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> String<span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        msg<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span>
            <span class="token function">showToast</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<h3 id="2、BaseMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><a href="#2、BaseMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt" class="headerlink" title="2、BaseMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;"></a>2、BaseMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter<V>&gt;</h3><p>package：cn.onestravel.library.kotlin.mvp.activity</p>
<p>所有Mvp架构的 ListActivity 的基类,自BaseListActivity ，拥有BaseListActivity的所有特性，并且处理了P层的相关生命周期。</p>
<h3 id="3、BaseRxMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><a href="#3、BaseRxMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt" class="headerlink" title="3、BaseRxMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;"></a>3、BaseRxMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter<V>&gt;</h3><p>package：cn.onestravel.library.kotlin.mvp.activity</p>
<p>所有Mvp架构的 采用RxJava+Retrofit 请求的Activity 的基类，继承自BaseRxActivity ，拥有BaseRxActivity的所有特性，并且处理了P层的相关生命周期。</p>
<h3 id="4、BaseRxMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><a href="#4、BaseRxMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt" class="headerlink" title="4、BaseRxMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;"></a>4、BaseRxMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter<V>&gt;</h3><p>package：cn.onestravel.library.kotlin.mvp.activity</p>
<p>所有Mvp架构的 采用RxJava+Retrofit 请求的带有列表的Activity，继承自BaseRxListActivity ，拥有BaseRxListActivity的所有特性，并且处理了P层的相关生命周期。</p>
<h3 id="5、Fragment-有与前4个Activity功能相同Fragment，就不多做介绍了。"><a href="#5、Fragment-有与前4个Activity功能相同Fragment，就不多做介绍了。" class="headerlink" title="5、Fragment 有与前4个Activity功能相同Fragment，就不多做介绍了。"></a>5、Fragment 有与前4个Activity功能相同Fragment，就不多做介绍了。</h3><p>package：cn.onestravel.library.kotlin.mvp.fragment</p>
<h3 id="6、BaseMvpModel"><a href="#6、BaseMvpModel" class="headerlink" title="6、BaseMvpModel"></a>6、BaseMvpModel</h3><p>package：cn.onestravel.library.kotlin.mvp.model</p>
<p>Mvp模式中所有Model层的基类，是一个接口，可以声明共同的方法，交由子类去实现。</p>
<h3 id="7、BaseMvpPresenter"><a href="#7、BaseMvpPresenter" class="headerlink" title="7、BaseMvpPresenter"></a>7、BaseMvpPresenter</h3><p>package：cn.onestravel.library.kotlin.mvp.presenter</p>
<p>Mvp模式中所有presenter层的基类，是一个接口，声明了presenter层相关的生命周期方法，由子类去实现。</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name  BaseMvpPresenterImpl
 * @description 所有界面presenter的接口类
 * @createTime 2018/12/12 16:27
 * @author onestravel
 * @version 1.0.0
 */</span>

<span class="token keyword">interface</span> BaseMvpPresenter<span class="token operator">&lt;</span><span class="token keyword">in</span> V <span class="token operator">:</span> BaseMvpView<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">onMvpAttachView</span><span class="token punctuation">(</span>view<span class="token operator">:</span> V<span class="token punctuation">,</span> savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpSaveInstanceState</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDetachView</span><span class="token punctuation">(</span>retainInstance<span class="token operator">:</span> Boolean<span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span></code></pre>
<h3 id="8、BaseMvpPresenterImpl-lt-V-BaseMvpView-gt"><a href="#8、BaseMvpPresenterImpl-lt-V-BaseMvpView-gt" class="headerlink" title="8、BaseMvpPresenterImpl&lt;V: BaseMvpView&gt;"></a>8、BaseMvpPresenterImpl&lt;V: BaseMvpView&gt;</h3><p>package：cn.onestravel.library.kotlin.mvp.presenter.impl</p>
<p>Mvp模式中所有presenter层的接口的实现类，对presenter层相关的生命周期方法进行实现；并且实现与View层的绑定，持有View层的引用。</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name  BaseMvpPresenterImpl
 * @description 所有界面presenter的接口类
 * @createTime 2018/12/12 16:27
 * @author onestravel
 * @version 1.0.0
 */</span>

<span class="token keyword">interface</span> BaseMvpPresenter<span class="token operator">&lt;</span><span class="token keyword">in</span> V <span class="token operator">:</span> BaseMvpView<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">onMvpAttachView</span><span class="token punctuation">(</span>view<span class="token operator">:</span> V<span class="token punctuation">,</span> savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpSaveInstanceState</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDetachView</span><span class="token punctuation">(</span>retainInstance<span class="token operator">:</span> Boolean<span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span></code></pre>
<h3 id="9、BaseMvpView"><a href="#9、BaseMvpView" class="headerlink" title="9、BaseMvpView"></a>9、BaseMvpView</h3><p>package：cn.onestravel.library.kotlin.mvp.view</p>
<p>Mvp模式中所有View层的接口类，声明了一些View层常用的加载进度显示与隐藏，请求失败提示等公用的方法。</p>
<pre class=" language-kotlin"><code class="language-kotlin"><span class="token comment" spellcheck="true">/**
 * @name  BaseMvpPresenterImpl
 * @description 所有界面presenter的接口类
 * @createTime 2018/12/12 16:27
 * @author onestravel
 * @version 1.0.0
 */</span>

<span class="token keyword">interface</span> BaseMvpPresenter<span class="token operator">&lt;</span><span class="token keyword">in</span> V <span class="token operator">:</span> BaseMvpView<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">onMvpAttachView</span><span class="token punctuation">(</span>view<span class="token operator">:</span> V<span class="token punctuation">,</span> savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStart</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpResume</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpPause</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpStop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpSaveInstanceState</span><span class="token punctuation">(</span>savedInstanceState<span class="token operator">:</span> Bundle<span class="token operator">?</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDetachView</span><span class="token punctuation">(</span>retainInstance<span class="token operator">:</span> Boolean<span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">onMvpDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span></code></pre>
<h2 id="声明："><a href="#声明：" class="headerlink" title="声明："></a>声明：</h2><p>针对Kotlin项目的一些常用封装，到这里就介绍完了，后面还会增加MVVM模式的一些封装，敬请期待！！</p>
<p>在封装或者介绍过程中，如有什么不正确或者不明白的地方，期待与您进行交流，共同提高！</p>
<p>联系邮件：<a href="mailto:server@onestravel.cn">server@onestravel.cn</a></p>
<p>鸣谢！！！</p>

  </div>
  <div>
  
  <div class="post-note note-warning copyright" style="margin-top: 42px">
    <p><span style="font-weight: bold;">作者：</span><a target="_blank" rel="nofollow noopener noreferrer" href="https://blog.onestravel.cn/about">一个人的旅行</a></p>
    <p><span style="font-weight: bold;">文章链接：</span><a target="_blank" rel="nofollow noopener noreferrer" href="https://blog.onestravel.cn/20181225/df7c09351200/">https://blog.onestravel.cn/20181225/df7c09351200/</a></p>
    <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
  </div>
  
  </div>
</article>
<div class="nav">
  
  <div class="nav-item-prev">
    <a href="/20190130/05823223eb19/" class="nav-link">
      <i class="iconfont icon-left nav-prev-icon"></i>
      <div>
        <div class="nav-label">上一篇</div>
        
        <div class="nav-title">BottomNavigationBar 导航菜单 </div>
        
      </div>
    </a>
  </div>
  
  
  <div class="nav-item-next">
    <a href="/20181212/43601972e2fd/" class="nav-link">
      <div>
        <div class="nav-label">下一篇</div>
        
        <div class="nav-title">(七)Kotlin 小案例与展望未来 </div>
        
      </div>
      <i class="iconfont icon-right nav-next-icon"></i>
    </a>
  </div>
  
</div>

<div class="card card-content comment-card" style="margin-top: 16px;">
  <div class="comment-card-title">评论</div>
  
  <div id="gitalk-container"></div>
  
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

  
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

  
<script src="/js/lib/md5.min.js"></script>

  <script>
    var gitalk = new Gitalk({
      clientID: 'a52a65db0a634019e27f',
      clientSecret: 'a04eaebc103e73d3769221171a4b87b55b39998d',
      repo: 'onestravel.github.io',
      owner: 'onestravel',
      admin: "onestravel",
      id: md5(location.href),
      distractionFreeMode: true,
      language: 'navigator.language || navigator.userLanguage',
      labels: ["Gitalk"],
      perPage: 10
    })

    gitalk.render('gitalk-container')
  </script>

</div>

<div class="card card-content toc-card" id="mobiletoc">
  <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kotlin%E8%AF%AD%E8%A8%80%E5%9F%BA%E4%BA%8EMvp-Retrofit-RxJava%E5%B0%81%E8%A3%85%E7%9A%84Android%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BE%9D%E8%B5%96%E5%BA%93"><span class="toc-text">Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%87%87%E7%94%A8%E6%99%AE%E9%80%9A%E6%96%B9%E5%BC%8F%E5%B0%81%E8%A3%85%E7%9A%84%E5%9F%BA%E7%A1%80%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">一、采用普通方式封装的基础文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseActivity"><span class="toc-text">1、BaseActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseListActivity"><span class="toc-text">2、BaseListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRecyclerAdapter"><span class="toc-text">3、BaseRecyclerAdapter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81ImageViewExtend"><span class="toc-text">4、ImageViewExtend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseFragment"><span class="toc-text">5、BaseFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseListFragment"><span class="toc-text">6、BaseListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81DensityUtil"><span class="toc-text">7、DensityUtil</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81CircleTextView"><span class="toc-text">8、CircleTextView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81EmptyView"><span class="toc-text">9、EmptyView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81ShapeImageView"><span class="toc-text">10、ShapeImageView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%87%87%E7%94%A8RxJava-Retrofit%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E5%85%B3%E4%BA%8EHttp%E8%AF%B7%E6%B1%82%E4%BB%A5%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%84%E7%90%86%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">二、采用RxJava+Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseRxActivity"><span class="toc-text">1、BaseRxActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseRxListActivity"><span class="toc-text">2、BaseRxListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxFragment"><span class="toc-text">3、BaseRxFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxListFragment"><span class="toc-text">4、BaseRxListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseObserver-lt-T-ResponseResult-gt"><span class="toc-text">5、BaseObserver&lt;T: ResponseResult&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseObserver1-lt-DATA-Serializable-gt"><span class="toc-text">6、BaseObserver1&lt;DATA: Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseObserver2-lt-DATA-Serializable-ITEM-Serializable-gt"><span class="toc-text">7、BaseObserver2&lt;DATA : Serializable,ITEM:Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseLoader"><span class="toc-text">8、BaseLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseService"><span class="toc-text">9、BaseService</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81RetrofitServiceManager"><span class="toc-text">10、RetrofitServiceManager</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%87%87%E7%94%A8Mvp%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">三、采用Mvp架构封装的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">1、BaseMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">2、BaseMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">3、BaseRxMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">4、BaseRxMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81Fragment-%E6%9C%89%E4%B8%8E%E5%89%8D4%E4%B8%AAActivity%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%90%8CFragment%EF%BC%8C%E5%B0%B1%E4%B8%8D%E5%A4%9A%E5%81%9A%E4%BB%8B%E7%BB%8D%E4%BA%86%E3%80%82"><span class="toc-text">5、Fragment 有与前4个Activity功能相同Fragment，就不多做介绍了。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseMvpModel"><span class="toc-text">6、BaseMvpModel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseMvpPresenter"><span class="toc-text">7、BaseMvpPresenter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseMvpPresenterImpl-lt-V-BaseMvpView-gt"><span class="toc-text">8、BaseMvpPresenterImpl&lt;V: BaseMvpView&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseMvpView"><span class="toc-text">9、BaseMvpView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%EF%BC%9A"><span class="toc-text">声明：</span></a></li></ol></li></ol>
</div></main>
          <aside class="left-column">
            
            <div class="card card-author">
              
<img src="/medias/avatar.jpg" class="author-img">

<p class="author-name">一个人的旅行</p>
<p class="author-description">冰冻三尺，非一日之寒；为山九仞，岂一日之功；不忘初心，方得始终！</p>
<div class="author-message">
  <a class="author-posts-count" href="/archives">
    <span>69</span>
    <span>文章</span>
  </a>
  <a class="author-categories-count" href="/categories">
    <span>14</span>
    <span>分类</span>
  </a>
  <a class="author-tags-count" href="/tags">
    <span>47</span>
    <span>标签</span>
  </a>
</div>

<div class="author-card-society">
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://github.com/onestravel">
        <i class="iconfont icon-github society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a href="mailto:service@onestravel.cn">
        <i class="iconfont icon-mail society-icon"></i>
      </a>
    </div>
  
</div>

            </div>
            
            <div class="sticky-tablet">
  
  
  <article class="display-when-two-columns spacer">
    <div class="card card-content toc-card">
      <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kotlin%E8%AF%AD%E8%A8%80%E5%9F%BA%E4%BA%8EMvp-Retrofit-RxJava%E5%B0%81%E8%A3%85%E7%9A%84Android%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BE%9D%E8%B5%96%E5%BA%93"><span class="toc-text">Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%87%87%E7%94%A8%E6%99%AE%E9%80%9A%E6%96%B9%E5%BC%8F%E5%B0%81%E8%A3%85%E7%9A%84%E5%9F%BA%E7%A1%80%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">一、采用普通方式封装的基础文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseActivity"><span class="toc-text">1、BaseActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseListActivity"><span class="toc-text">2、BaseListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRecyclerAdapter"><span class="toc-text">3、BaseRecyclerAdapter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81ImageViewExtend"><span class="toc-text">4、ImageViewExtend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseFragment"><span class="toc-text">5、BaseFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseListFragment"><span class="toc-text">6、BaseListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81DensityUtil"><span class="toc-text">7、DensityUtil</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81CircleTextView"><span class="toc-text">8、CircleTextView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81EmptyView"><span class="toc-text">9、EmptyView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81ShapeImageView"><span class="toc-text">10、ShapeImageView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%87%87%E7%94%A8RxJava-Retrofit%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E5%85%B3%E4%BA%8EHttp%E8%AF%B7%E6%B1%82%E4%BB%A5%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%84%E7%90%86%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">二、采用RxJava+Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseRxActivity"><span class="toc-text">1、BaseRxActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseRxListActivity"><span class="toc-text">2、BaseRxListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxFragment"><span class="toc-text">3、BaseRxFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxListFragment"><span class="toc-text">4、BaseRxListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseObserver-lt-T-ResponseResult-gt"><span class="toc-text">5、BaseObserver&lt;T: ResponseResult&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseObserver1-lt-DATA-Serializable-gt"><span class="toc-text">6、BaseObserver1&lt;DATA: Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseObserver2-lt-DATA-Serializable-ITEM-Serializable-gt"><span class="toc-text">7、BaseObserver2&lt;DATA : Serializable,ITEM:Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseLoader"><span class="toc-text">8、BaseLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseService"><span class="toc-text">9、BaseService</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81RetrofitServiceManager"><span class="toc-text">10、RetrofitServiceManager</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%87%87%E7%94%A8Mvp%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">三、采用Mvp架构封装的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">1、BaseMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">2、BaseMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">3、BaseRxMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">4、BaseRxMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81Fragment-%E6%9C%89%E4%B8%8E%E5%89%8D4%E4%B8%AAActivity%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%90%8CFragment%EF%BC%8C%E5%B0%B1%E4%B8%8D%E5%A4%9A%E5%81%9A%E4%BB%8B%E7%BB%8D%E4%BA%86%E3%80%82"><span class="toc-text">5、Fragment 有与前4个Activity功能相同Fragment，就不多做介绍了。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseMvpModel"><span class="toc-text">6、BaseMvpModel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseMvpPresenter"><span class="toc-text">7、BaseMvpPresenter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseMvpPresenterImpl-lt-V-BaseMvpView-gt"><span class="toc-text">8、BaseMvpPresenterImpl&lt;V: BaseMvpView&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseMvpView"><span class="toc-text">9、BaseMvpView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%EF%BC%9A"><span class="toc-text">声明：</span></a></li></ol></li></ol>
    </div>
  </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right: 2px;"></i>分类</div>
  <div class="categories-list">
    
      <a href="/categories/NDK/">
        <div class="categories-list-item">
          NDK
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/Android/">
        <div class="categories-list-item">
          Android
          <span class="categories-list-item-badge">9</span>
        </div>
      </a>
    
      <a href="/categories/CPlusPlus/">
        <div class="categories-list-item">
          CPlusPlus
          <span class="categories-list-item-badge">6</span>
        </div>
      </a>
    
      <a href="/categories/C/">
        <div class="categories-list-item">
          C
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/前端H5/">
        <div class="categories-list-item">
          前端H5
          <span class="categories-list-item-badge">3</span>
        </div>
      </a>
    
      <a href="/categories/JNI/">
        <div class="categories-list-item">
          JNI
          <span class="categories-list-item-badge">3</span>
        </div>
      </a>
    
      <a href="/categories/算法/">
        <div class="categories-list-item">
          算法
          <span class="categories-list-item-badge">18</span>
        </div>
      </a>
    
      <a href="/categories/DevTools/">
        <div class="categories-list-item">
          DevTools
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/SpringBoot/">
        <div class="categories-list-item">
          SpringBoot
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/Jenkins/">
        <div class="categories-list-item">
          Jenkins
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/Kotlin/">
        <div class="categories-list-item">
          Kotlin
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/Linux/">
        <div class="categories-list-item">
          Linux
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/JAVA/">
        <div class="categories-list-item">
          JAVA
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/Git/">
        <div class="categories-list-item">
          Git
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right: 2px;"></i>热门标签</div>
  <div class="tags-list">
    
    <a href="/tags/Android/" title="Android"><div class="tags-list-item">Android</div></a>
    
    <a href="/tags/Kotlin/" title="Kotlin"><div class="tags-list-item">Kotlin</div></a>
    
    <a href="/tags/CPlusPlus/" title="CPlusPlus"><div class="tags-list-item">CPlusPlus</div></a>
    
    <a href="/tags/NDK/" title="NDK"><div class="tags-list-item">NDK</div></a>
    
    <a href="/tags/C/" title="C"><div class="tags-list-item">C</div></a>
    
    <a href="/tags/JVM/" title="JVM"><div class="tags-list-item">JVM</div></a>
    
    <a href="/tags/数组/" title="数组"><div class="tags-list-item">数组</div></a>
    
    <a href="/tags/自动化部署/" title="自动化部署"><div class="tags-list-item">自动化部署</div></a>
    
    <a href="/tags/Jenkins/" title="Jenkins"><div class="tags-list-item">Jenkins</div></a>
    
    <a href="/tags/斐波那契数列/" title="斐波那契数列"><div class="tags-list-item">斐波那契数列</div></a>
    
    <a href="/tags/Intellij-IDEA/" title="Intellij IDEA"><div class="tags-list-item">Intellij IDEA</div></a>
    
    <a href="/tags/html/" title="html"><div class="tags-list-item">html</div></a>
    
    <a href="/tags/JNI/" title="JNI"><div class="tags-list-item">JNI</div></a>
    
    <a href="/tags/Linux/" title="Linux"><div class="tags-list-item">Linux</div></a>
    
    <a href="/tags/矩阵/" title="矩阵"><div class="tags-list-item">矩阵</div></a>
    
    <a href="/tags/centos/" title="centos"><div class="tags-list-item">centos</div></a>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
          <aside class="right-column">
            <div class="sticky-widescreen">
  
  
  <article class="card card-content toc-card">
    <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kotlin%E8%AF%AD%E8%A8%80%E5%9F%BA%E4%BA%8EMvp-Retrofit-RxJava%E5%B0%81%E8%A3%85%E7%9A%84Android%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BE%9D%E8%B5%96%E5%BA%93"><span class="toc-text">Kotlin语言基于Mvp+Retrofit+RxJava封装的Android项目的基础依赖库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%87%87%E7%94%A8%E6%99%AE%E9%80%9A%E6%96%B9%E5%BC%8F%E5%B0%81%E8%A3%85%E7%9A%84%E5%9F%BA%E7%A1%80%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">一、采用普通方式封装的基础文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseActivity"><span class="toc-text">1、BaseActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseListActivity"><span class="toc-text">2、BaseListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRecyclerAdapter"><span class="toc-text">3、BaseRecyclerAdapter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81ImageViewExtend"><span class="toc-text">4、ImageViewExtend</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseFragment"><span class="toc-text">5、BaseFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseListFragment"><span class="toc-text">6、BaseListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81DensityUtil"><span class="toc-text">7、DensityUtil</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81CircleTextView"><span class="toc-text">8、CircleTextView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81EmptyView"><span class="toc-text">9、EmptyView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81ShapeImageView"><span class="toc-text">10、ShapeImageView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%87%87%E7%94%A8RxJava-Retrofit%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E5%85%B3%E4%BA%8EHttp%E8%AF%B7%E6%B1%82%E4%BB%A5%E5%8F%8A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%A4%84%E7%90%86%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">二、采用RxJava+Retrofit架构封装的关于Http请求以及生命周期处理的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseRxActivity"><span class="toc-text">1、BaseRxActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseRxListActivity"><span class="toc-text">2、BaseRxListActivity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxFragment"><span class="toc-text">3、BaseRxFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxListFragment"><span class="toc-text">4、BaseRxListFragment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81BaseObserver-lt-T-ResponseResult-gt"><span class="toc-text">5、BaseObserver&lt;T: ResponseResult&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseObserver1-lt-DATA-Serializable-gt"><span class="toc-text">6、BaseObserver1&lt;DATA: Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseObserver2-lt-DATA-Serializable-ITEM-Serializable-gt"><span class="toc-text">7、BaseObserver2&lt;DATA : Serializable,ITEM:Serializable&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseLoader"><span class="toc-text">8、BaseLoader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseService"><span class="toc-text">9、BaseService</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81RetrofitServiceManager"><span class="toc-text">10、RetrofitServiceManager</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E9%87%87%E7%94%A8Mvp%E6%9E%B6%E6%9E%84%E5%B0%81%E8%A3%85%E7%9A%84%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-text">三、采用Mvp架构封装的文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81BaseMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">1、BaseMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81BaseMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">2、BaseMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81BaseRxMvpActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">3、BaseRxMvpActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81BaseRxMvpListActivity-lt-V-BaseMvpView-P-BaseMvpPresenter-gt"><span class="toc-text">4、BaseRxMvpListActivity&lt;V : BaseMvpView, P : BaseMvpPresenter&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81Fragment-%E6%9C%89%E4%B8%8E%E5%89%8D4%E4%B8%AAActivity%E5%8A%9F%E8%83%BD%E7%9B%B8%E5%90%8CFragment%EF%BC%8C%E5%B0%B1%E4%B8%8D%E5%A4%9A%E5%81%9A%E4%BB%8B%E7%BB%8D%E4%BA%86%E3%80%82"><span class="toc-text">5、Fragment 有与前4个Activity功能相同Fragment，就不多做介绍了。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81BaseMvpModel"><span class="toc-text">6、BaseMvpModel</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81BaseMvpPresenter"><span class="toc-text">7、BaseMvpPresenter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81BaseMvpPresenterImpl-lt-V-BaseMvpView-gt"><span class="toc-text">8、BaseMvpPresenterImpl&lt;V: BaseMvpView&gt;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81BaseMvpView"><span class="toc-text">9、BaseMvpView</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%EF%BC%9A"><span class="toc-text">声明：</span></a></li></ol></li></ol>
  </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right: 2px;"></i>最近文章</div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-09-20</div>
        <a href="/20210920/f8c53c115779/"><div class="recent-posts-item-content">【并发编程】线程基础</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-07-28</div>
        <a href="/20210728/9c2efe6aefcb/"><div class="recent-posts-item-content">【笔记四】编译插桩操纵字节码，实现不可能完成的任务</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-05-28</div>
        <a href="/20210528/618470f841d8/"><div class="recent-posts-item-content">【笔记三】字节码层面分析 class 文件结构</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-03-28</div>
        <a href="/20210328/68b72d473df5/"><div class="recent-posts-item-content">【笔记二】GC 回收机制和分代回收策略</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>Copyright ©
          
          2020 -
          
          2022
        </span>
        &nbsp;
        <a href="/" class="footer-link">一个人的旅行 </a>
      </div>
    </div>

    
    <div class="footer-dsc">
      
      Powered by
      <a href="https://hexo.io/" class="footer-link" target="_blank" rel="nofollow noopener noreferrer">&nbsp;Hexo </a>
      
      
      <span>&nbsp;|&nbsp;</span>
      
      
      Theme -
      <a href="https://github.com/theme-kaze" class="footer-link" target="_blank"
        rel="nofollow noopener noreferrer">&nbsp;Kaze</a>
      
    </div>
    
    
    
    
      <div class="footer-dsc">
        
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
        <span>&nbsp;|&nbsp;</span>
        
        
        本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer>
  <a role="button" id="scrollbutton" class="basebutton"  aria-label="回到顶部">
  <i class="iconfont icon-arrowleft button-icon"></i>
</a>
<a role="button" id="menubutton" class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a role="button" id="popbutton" class="basebutton" aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a role="button" id="darkbutton" class="basebutton darkwidget" aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a role="button" id="searchbutton" class="basebutton searchwidget" aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a>

  
  
  

  
  
  <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img');
    var i;
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a');
      wrapper.setAttribute('href', img[i].getAttribute('data-src'));
      wrapper.setAttribute('aria-label', 'illustration');
      wrapper.style.cssText = 'width: 100%; display: flex; justify-content: center;';
      if (img[i].alt) wrapper.dataset.caption = img[i].alt;
      wrapper.dataset.nolink = true;
      img[i].before(wrapper);
      wrapper.append(img[i]);
      var divWrap = document.createElement('div');
      divWrap.classList.add('gallery');
      wrapper.before(divWrap);
      divWrap.append(wrapper);
    }
    baguetteBox.run('.gallery');
  }
</script>
<script>loadScript("/js/lib/lightbox/baguetteBox.min.js", addImgLayout)</script>
  
  
  
<script src="/js/main.js"></script>

  
  <script>loadScript("/js/lib/busuanzi.min.js")</script>
  
  
  <script>
    var addLazyload = function () {
      var observer = lozad('.lozad', {
        load: function (el) {
          el.srcset = el.getAttribute('data-src');
        },
        loaded: function (el) {
          el.classList.add('loaded');
        }
      });
      observer.observe();
    }
  </script>
  <script>loadScript("/js/lib/lozad.min.js", addLazyload)</script>
  
  
  <script>
    var googleAnalytics = function() {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-145377665-1');
    }
  </script>
  <script>loadScript("https://www.googletagmanager.com/gtag/js?id=" + "UA-145377665-1", googleAnalytics)</script>
  
</body>

</html>